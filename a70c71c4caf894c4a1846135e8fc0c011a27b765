{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "56863d79_e2f45047",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 16185
      },
      "writtenOn": "2024-09-09T02:11:37Z",
      "side": 1,
      "message": "why tho?\n\nmakes it harder to pick stuff when everyone else has it all defined in target.\n\nplus inheritance order gets really weird really easily...",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28584e00_1473770e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 10258
      },
      "writtenOn": "2024-09-09T02:23:54Z",
      "side": 1,
      "message": "cuz https://github.com/LineageOS/android_device_motorola_sm8250-common/commit/989f7428ce3b9b159d469dd34abd7c9298594db3#diff-1d53751ddf3ffeb25cfe609c6bd28746651e23ea81d51fe582b0f635f0896e0dR19\n\nI don\u0027t come up with better ideas...",
      "parentUuid": "56863d79_e2f45047",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b59adb42_096048d9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 16185
      },
      "writtenOn": "2024-09-09T17:32:22Z",
      "side": 1,
      "message": "why do we need that what https://review.lineageos.org/c/LineageOS/android_device_osom_ingot/+/400145 is what most people do?",
      "parentUuid": "28584e00_1473770e",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05e09b65_f9a8d529",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 4550
      },
      "writtenOn": "2024-09-09T22:51:14Z",
      "side": 1,
      "message": "Only sm8450+ fully use c2, you aren\u0027t supposed to kill omx altogether on sm8250 (yet). You can reference FP4 tree that just has SW codecs removed.",
      "parentUuid": "b59adb42_096048d9",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5c4d310c_a84e79c6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 16185
      },
      "writtenOn": "2024-09-10T01:37:01Z",
      "side": 1,
      "message": "yeah, that makes sense, so we should just remove SW codecs.",
      "parentUuid": "05e09b65_f9a8d529",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2299d56e_b86833af",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 10258
      },
      "writtenOn": "2024-09-10T03:00:36Z",
      "side": 1,
      "message": "\u003e why do we need that what https://review.lineageos.org/c/LineageOS/android_device_osom_ingot/+/400145 is what most people do?\n\nvendor.media.omx\u003d0 disables loading omx plugins. TARGET_SUPPORTS_OMX_SERVICE :\u003d false additionally excludes building omx hidl.\n\n\u003e Only sm8450+ fully use c2, you aren\u0027t supposed to kill omx altogether on sm8250 (yet). You can reference FP4 tree that just has SW codecs removed.\n\nno no no it\u0027s not the case. omx video was removed since sm8350+ https://github.com/LineageOS/android_hardware_qcom_media/blob/lineage-21.0-caf-sm8350/mm-core/src/registry_table_android.c and only omx audio was kept. qcom uses debug.stagefright.omx_default_rank\u003d0 to rank omx audio lower than c2 audio (rank\u003d8), so it was \"c2.qti hw video + omx.qcom hw audio\" for sm8350+.\n\nAfter Idf55ec02c2c0f4d2fa73f949cffef0d820a54570, omx rank is reset to 0x100 so the combination becomes \"c2.qti hw video + c2.android sw audio\". omx fully becomes a no-op now.\n\nThe case for sm8250 is somewhat different because omx video is enabled in media hal. once we remove omx, we use the same \"c2.qti hw video + c2.android sw audio\" combination as sm8350+",
      "parentUuid": "5c4d310c_a84e79c6",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc920d2d_2b150d8a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 4550
      },
      "writtenOn": "2024-09-10T08:52:06Z",
      "side": 1,
      "message": "sm8250 HAL still uses OMX HW audio, which afaik is still possible to use unlike OMX SW audio. By disabling OMX completely, you are disabling the OMX HW audio codecs. And from what I see only sm8450+ has c2 HW audio codecs",
      "parentUuid": "2299d56e_b86833af",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1c9acf8_c138f2bc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 10258
      },
      "writtenOn": "2024-09-10T11:19:21Z",
      "side": 1,
      "message": "google uses c2 sw audio for pixel devices so it shouldn\u0027t be a big deal, but losing hw audio is indeed one major drawback of removing omx. I\u0027ll consider removing omx video only.",
      "parentUuid": "bc920d2d_2b150d8a",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2b74d6e_2688adf4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 10258
      },
      "writtenOn": "2024-09-13T07:40:30Z",
      "side": 1,
      "message": "After careful investigation, I realized that OMX HW AUDIO DOES NOT WORK WITHOUT QCOM AV ENHANCEMENTS.\n\nOMX.qcom.audio.* are not directly exposed to MediaPlayerService (and not present in dumpsys media.player), but selected by a hook in libavenhancements.so https://github.com/DD3Boh/proprietary_vendor_qcom_source/blob/39a7b549d3b361e17b41808bbc50a0ae61277406/commonsys/avenhancements/av/stagefright/ExtendedUtils.cpp#L478\n\nHence, it\u0027s pointless to keep OMX when we use c2 for video.",
      "parentUuid": "d1c9acf8_c138f2bc",
      "revId": "a70c71c4caf894c4a1846135e8fc0c011a27b765",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    }
  ]
}